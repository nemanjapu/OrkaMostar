@model IEnumerable<OrkaMostar.Core.ViewModels.MenuItemsViewModel>
<header id="header" class="header-transparent header-effect-shrink" data-plugin-options="{'stickyEnabled': true, 'stickyEffect': 'shrink', 'stickyEnableOnBoxed': true, 'stickyEnableOnMobile': true, 'stickyHeaderContainerHeight': 100, 'stickyStartAt': 50, 'stickyChangeLogo': false}">
    <div class="header-body border-top-0 bg-primary appear-animation" data-appear-animation="fadeInUpShorterPlus" data-appear-animation-delay="2000" data-plugin-options="{'forceAnimation': true}">
        <div class="header-container container-fluid">
            <div class="header-row">
                <div class="header-column align-items-start justify-content-center">
                    <div class="header-logo z-index-2 col-lg-2 px-0">
                        <a href="/">
                            <img alt="Klub Vodenih Sportova Orka Mostar" width="90" height="90" src="~/Content/img/logo.png">
                        </a>
                    </div>
                </div>
                <div class="header-column flex-row justify-content-end justify-content-lg-center">
                    <div class="header-nav header-nav-line header-nav-bottom-line header-nav-bottom-line-effect-1 header-nav-dropdowns-dark header-nav-light-text justify-content-end">
                        <div class="header-nav-main header-nav-main-arrows header-nav-main-mobile-dark header-nav-main-dropdown-no-borders header-nav-main-effect-3 header-nav-main-sub-effect-1">
                            <nav class="collapse">
                                <ul class="nav nav-pills" id="mainNav">
                                    @foreach (var page in Model)
                                    {
                                        string pageNewTab = "";
                                        string pageUrl = "";
                                        string subpageUrl = "";
                                        if (page.OpenPageInNewTab)
                                        {
                                            pageNewTab = "target='_blank'";
                                        }
                                        else
                                        {
                                            pageNewTab = "";
                                        }
                                        if (string.IsNullOrEmpty(page.PageExternalUrl))
                                        {
                                            pageUrl = page.PageUrl;
                                        }
                                        else
                                        {
                                            pageUrl = page.PageExternalUrl;
                                        }
                                        if (page.ParentId == 0 && !page.isHidden)
                                        {
                                            if (page.hasChildren)
                                            {
                                                <li class="dropdown">
                                                    <a href="@pageUrl" @pageNewTab class="nav-link dropdown-toggle">@page.MenuName</a>
                                                    <ul class="dropdown-menu">
                                                        @foreach (var subpage in Model)
                                                        {
                                                            string subpageNewTab = "";
                                                            if (subpage.ParentId == page.Id && !subpage.isHidden)
                                                            {
                                                                if (subpage.OpenPageInNewTab)
                                                                {
                                                                    subpageNewTab = "target='_blank'";
                                                                }
                                                                else
                                                                {
                                                                    subpageNewTab = "";
                                                                }
                                                                if (string.IsNullOrEmpty(subpage.PageExternalUrl))
                                                                {
                                                                    subpageUrl = subpage.PageUrl;
                                                                }
                                                                else
                                                                {
                                                                    subpageUrl = subpage.PageExternalUrl;
                                                                }
                                                                <li>
                                                                    <a class="dropdown-item" @subpageNewTab href="@subpageUrl">@subpage.MenuName</a>
                                                                </li>
                                                            }
                                                        }
                                                    </ul>
                                                </li>
                                            }
                                            else
                                            {
                                                <li><a href="@pageUrl" @pageNewTab class="nav-link">@page.MenuName</a></li>
                                            }

                                        }
                                    }
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <button class="btn header-btn-collapse-nav bg-transparent border-0 text-4 position-relative top-2 p-0 ml-4" data-toggle="collapse" data-target=".header-nav-main nav">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div class="header-column align-items-end justify-content-center d-none d-lg-flex">
                    <ul class="header-social-icons social-icons social-icons-clean social-icons-icon-light social-icons-medium custom-social-icons-divider">
                        <li class="social-icons-facebook">
                            <a href="https://www.facebook.com/klubvodenihsportova.orka" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        </li>
                        <li class="social-icons-instagram">
                            <a href="https://www.instagram.com/orka_mostar/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</header>